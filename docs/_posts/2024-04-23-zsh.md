---
title: "¡Adiós Bash, hola Zsh!"
date: "2024-04-23"
categories: administración
tags: zsh macos linux tmux desarrollo terminal homebrew
excerpt_separator: <!--more-->
---

![logo user](/assets/img/posts/logo-zsh.svg){: width="150px" height="150px" style="float:left; padding-right:25px" }

He decidido migrar todos mis sistemas Linux de la fiable y conocida *`bash`* a la poderosa y versátil *`zsh`*. Se trata de una evolución extendida de la Bourne Shell (sh), no solo hereda muchas de las características familiares de Bash, sino que también introduce una serie de nuevas funcionalidades y ofrece un sólido soporte para plugins y temas personalizados. Apple adoptó Zsh como la shell predeterminada hace algún tiempo, me faltaba dar el paso en mis sistemas Linux.

<br clear="left"/>
<!--more-->

## ¿Por qué Zsh?

Antes de sumergirnos en la instalación y configuración de Zsh, es esencial comprender las razones detrás de esta elección. **Zsh**, abreviatura de "Z Shell", es una potente shell de Unix que ofrece numerosas mejoras y funcionalidades sobre Bash, la shell predeterminada en muchos sistemas Unix.

Ventajas de Zsh sobre Bash

- *Autocompletado Avanzado*: Zsh brinda un autocompletado inteligente y avanzado que supera con creces las capacidades de Bash. Desde la sugerencia de nombres de archivos hasta completar comandos y argumentos, la experiencia de navegación en la línea de comandos se vuelve más fluida y eficiente.

- *Personalización Extensiva*: Zsh permite una personalización profunda y flexible de la interfaz de usuario. Los usuarios pueden elegir entre una amplia gama de temas predefinidos o crear sus propios diseños para adaptar la apariencia de la línea de comandos a sus preferencias individuales.

- *Potentes Extensiones y Plugins*: La comunidad de Zsh ofrece una gran cantidad de extensiones y plugins que amplían aún más su funcionalidad. Desde la integración con herramientas de desarrollo hasta la gestión avanzada de historiales de comandos, estas extensiones permiten a los usuarios personalizar su entorno de trabajo de acuerdo con sus necesidades específicas.

- *Historial Mejorado*: Zsh proporciona un historial de comandos mejorado que facilita la búsqueda, edición y ejecución de comandos anteriores. Esta característica resulta especialmente útil para usuarios que trabajan con una gran cantidad de comandos en su día a día.

<br/>

## Instalación

### Linux (Ubuntu)

En sistemas Linux basados en Debian, como Ubuntu, la instalación de Zsh es sencilla. Puedes comprobar si ya está instalado y en su defecto instalar Zsh:

```zsh
⚡ luis@luix:~ $ sudo dpkg -l zsh
:
⚡ luis@luix:~ $ apt install zsh
```

Compruebo que es una shell válida:

```zsh
⚡ luis@luix:~ $ grep zsh /etc/shells`
/bin/zsh
/usr/bin/zsh
```

Cambio a Zsh, para `luis` y `root` con `chsh -s $(which zsh)`

```zsh
⚡ luis@luix:~ $ chsh -s $(which zsh)
Contraseña:
⚡ luis@luix:~ $
⚡ luis@luix:~ $ sudo su -
Contraseña:
root@luix:~# chsh -s $(which zsh)
root@luix:~#
```

Salgo y vuelvo a entrar en ambos usuarios y verifico que se ejecuta zsh.

```zsh
⚡ luis@luix:~ $ ps
    PID TTY          TIME CMD
  48727 pts/0    00:00:00 zsh   <=== !!
  48736 pts/0    00:00:00 ps
```

- Si no tienes el fichero `.zshrc` probalemente se ejecutará `zsh-newuser-install` y te ofrecerá crearlo. En mi caso seleccioné la opción *(2) Populate your ~/.zshrc with the configuration recommended*. Creó este fichero `.zshrc` por defecto:

- Crea el fichero .zshrc por defecto

Aquí tienes un ejemplo de mi fichero de `zsh`

- **[~/.zshrc](https://gist.github.com/LuisPalacios/7507ce0b84adcad067320e9631648fd7)**. Mi fichero de configuración de `zsh`
- **[~/.tmux.conf](https://gist.github.com/LuisPalacios/065f4f0491d472d65ef62f67f1f418a1)**. Mi fichero de configuración de `tmux`, que suelo usarlo en combinación con `zsh`, echa un ojo a ["Terminales con tmux"]({% post_url 2024-04-25-tmux %})
- **[t](https://gist.github.com/LuisPalacios/860b689687bc239ab9f3549be67df499)**. Script to launch `tmux`

### macOS

Los usuarios de macOS ya tienen Zsh instalado por defecto, lo que significa que pueden empezar a utilizarlo de inmediato sin necesidad de instalación adicional. Pueden abrir Terminal y comenzar a experimentar con las características y funcionalidades de Zsh.

### Windows 11

Para los usuarios de Windows 11 que deseen utilizar ***Zsh***, te recomiendo instalar el Subsistema de Windows para Linux (WSL2) y una distribución de Linux compatible. Una vez instalado puede cambiar tu Shell.

La shell que viene por defecto en Ubuntu para WSL2 es *bash* pero la puedes cambiar exactamente igual que como lo haces en Linux y tambien te puedes instalar “tmux”, hablo sobre ello en este artículo sobre [Windows para desaarrollo]({% post_url 2024-04-23-zsh %}), en la sección "WSL 2 Cambio a zsh"

## Referencias

### Cheatsheet

En la recomendadísima [Ultimate Resource List](https://gist.github.com/bgoonz/be5c5be77169ef333b431bc37d331176) encontrarás una estupenda Cheatsheet. Resalto las entradas relacionadas con `zsh`:

- **Shells**
  - ✅ **Zsh** - es un shell diseñado para uso interactivo, aunque también es un poderoso lenguaje de scripting.
  - ✅ **Oh My ZSH!** - es el mejor marco de trabajo para gestionar tu configuración de Zsh. Echa un ojo a su sitio, [oh-my-zsh](https://ohmyz.sh) viene con miles de funciones útiles, ayudantes, plugins, temas. Trae varios plugins que hacen la vida más fácil. [Lo mejor de Oh My Zsh son sus temas](https://github.com/ohmyzsh/ohmyzsh/wiki/Themes).

- **Plugins para shell**
  - ✅ **zsh-autosuggestions** - Autosugestiones al estilo de Fish para Zsh.
  - ✅ **zsh-syntax-highlighting** - Resaltado de sintaxis al estilo del shell Fish para Zsh.
  - ✅ **Awesome ZSH Plugins** - Una lista de marcos de trabajo, plugins, temas y tutoriales para ZSH.

- **Gestores**
  - ✅ **tmux** - es un multiplexor de terminales, permite cambiar fácilmente entre varios programas en un mismo terminal.

<br/>

---

Al hacer la transición de Bash a Zsh, no solo estás adoptando una herramienta más poderosa y versátil, sino que también estás abriendo las puertas a una experiencia en la línea de comandos más eficiente y adaptable. Con sus características avanzadas y su activa comunidad de desarrolladores, Zsh se posiciona como la opción ideal para usuarios que buscan maximizar su productividad y control en entornos estilo unix.
