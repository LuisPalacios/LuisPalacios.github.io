---
title: "Rclone en Mac, Linux y Windows"
date: "2023-11-13"
categories: infraestructura
tags: linux mac macbook sincronizar clonar rsync
excerpt_separator: <!--more-->
---

![logo linux macbook](/assets/img/posts/logo-linux-macbook.svg){: width="150px" height="150px" style="float:left; padding-right:25px" } 


En este apunte explico cómo instalar y usar rclone para hacer mis backups. Hace tiempo que desistí de usar mecanismos automáticos basándome en discos externos. Con la obsesión de "cualquier cosa que haga puede fallar" llegué a la conclusión de que debía tener al menos 3 copias por ahí repartidas. 

Si contamos con la opción de la Cloud, discos externos, discos en casa de algún familiar, al final mantener todo sincronizado no es sencillo. Ahí es donde entra `rclone`. 

<br clear="left"/>
<!--more-->

# Introducción a rclone: Sincronización de Datos en macOS y Linux

[rclone](https://rclone.org) es una poderosa herramienta de línea de comandos que permite gestionar y sincronizar archivos y directorios en una amplia variedad de servicios de almacenamiento en la nube y sistemas de archivos locales. Si eres un usuario de macOS o Linux o Windows, rclone es una herramienta versátil que te ayudará a administrar tus datos de manera efectiva, hacer copias de seguridad en servicios en la nube, en discos externos locales, remotos y mantenerlos sincronizados entre todos ellos.

En este artículo, proporciono una introducción a rclone y una guía a través del proceso de instalación en macOS y Linux (no cubro Windows). Luego muestro cómo uso `rclone` para sincronizar cuatro directorios raíces principales en mi sistema con servicios en la nube como Google Drive y con un ordenador remoto con Linux que ejecuta `rclone` servidor.

<br/>

## Instalación de rclone en macOS

Para instalar rclone en macOS, sigue estos pasos:

1. Abre el Terminal en tu Mac.

2. Instala [Homebrew](https://brew.sh) si aún no lo tienes instalado. 

3. Ejecuta el siguiente comando para instalar rclone:

   ```shell
   brew install rclone
   :
   => Caveats
   Homebrew's installation does not include the `mount` subcommand on MacOS.
   zsh completions have been installed to:
   /opt/homebrew/share/zsh/site-functions
   ```

4. Verifica que rclone se haya instalado correctamente:

   ```shell
   rclone version
   ```

Ahora que tienes rclone instalado en tu Mac, puedes pasar a la configuración y sincronización de tus directorios.

<br/>

## Instalación de rclone en Linux

La instalación de rclone en Linux es igualmente sencilla. A continuación, se describen los pasos generales:

1. Abre una Terminal en tu distribución Linux.

2. Puedes utilizar el administrador de paquetes de tu distribución para instalar rclone. Por ejemplo, en Ubuntu, puedes ejecutar:

   ```shell
   sudo apt-get install rclone
   ```

   En otras distribuciones, como Fedora, CentOS o Debian, puedes utilizar el administrador de paquetes correspondiente.

3. Verifica la instalación ejecutando:

   ```shell
   rclone version
   ```

Con rclone instalado en tu sistema, estás listo para configurarlo y comenzar a sincronizar tus directorios.

<br/>

## Configuración de rclone

Antes de sincronizar tus directorios con servicios en la nube y ordenadores remotos, necesitas configurar rclone. A continuación, se muestran los pasos generales para configurar rclone:

1. Ejecuta el siguiente comando para iniciar la configuración de rclone:

   ```shell
   rclone config
   ```

2. Sigue las instrucciones del asistente de configuración para añadir un nuevo almacenamiento remoto. Puedes elegir entre una amplia gama de servicios en la nube y sistemas de archivos locales.

3. Proporciona la información requerida, como las credenciales de acceso, y asigna un nombre al almacenamiento remoto para referencia futura.

4. Una vez configurado el almacenamiento remoto, puedes utilizar rclone para sincronizar tus directorios con él.

<br/>


## Sincronización de Directorios

Supongamos que tienes cuatro directorios raíces principales en tu sistema Mac o Linux: `priv`, `work`, `Negativos`, y `Baul`. A continuación, te mostraremos cómo sincronizarlos con servicios en la nube como Google Drive y con un ordenador remoto con Linux utilizando rclone:

<br/>


### Sincronización con Google Drive

Para sincronizar tus directorios con Google Drive, utiliza el siguiente comando de ejemplo:

```shell
rclone sync /ruta/al/priv GoogleDrive:/carpeta-en-google-drive
rclone sync /ruta/al/work GoogleDrive:/carpeta-en-google-drive
rclone sync /ruta/al/Negativos GoogleDrive:/carpeta-en-google-drive
rclone sync /ruta/al/Baul GoogleDrive:/carpeta-en-google-drive
```

Asegúrate de reemplazar `/ruta/al/priv`, `/ruta/al/work`, `/ruta/al/Negativos`, y `/ruta/al/Baul` con las rutas correctas de tus directorios locales y `GoogleDrive:/carpeta-en-google-drive` con la ubicación deseada en Google Drive.

<br/>


### Sincronización con un Ordenador Remoto

Para sincronizar tus directorios con un ordenador remoto que ejecute rclone servidor, puedes utilizar el siguiente comando de ejemplo:

```shell
rclone sync /ruta/al/priv OrdenadorRemoto:/ruta/en/el/servidor/priv
rclone sync /ruta/al/work OrdenadorRemoto:/ruta/en/el/servidor/work
rclone sync /ruta/al/Negativos OrdenadorRemoto:/ruta/en/el/servidor/Negativos
rclone sync /ruta/al/Baul OrdenadorRemoto:/ruta/en/el/servidor/Baul
```

Reemplaza `/ruta/al/priv`, `/ruta/al/work`, `/ruta/al/Negativos`, `/ruta/al/Baul`, `OrdenadorRemoto`, y `/ruta/en/el/servidor` con las rutas y nombres de servidor correctos.

Con estos comandos, puedes mantener tus directorios sincronizados tanto en la nube como en un servidor remoto. Rclone te proporciona una forma eficaz de gestionar tus datos en macOS y Linux, permitiéndote respaldarlos y mantenerlos actualizados en múltiples ubicaciones.

En resumen, rclone es una herramienta esencial para cualquier usuario que necesite sincronizar y respaldar datos en macOS y Linux. Su versatilidad y facilidad de uso hacen que sea una elección sólida para la gestión de archivos en la nube y la sincronización entre dispositivos.